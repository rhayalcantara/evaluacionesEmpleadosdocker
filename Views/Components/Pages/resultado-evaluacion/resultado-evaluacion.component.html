<div class="resultado-evaluacion-container">
    <!-- Sección de información del empleado -->
    <div class="card-empleado">
        <!-- <div class="info-empleado">
            <h3>{{empleado.nombreunido}}</h3>
            <p><strong>Departamento:</strong> {{empleado.departamento}}</p>
            <p><strong>Posición:</strong> {{empleado.cargo}}</p>
            <p><strong>Fecha Ingreso:</strong> {{empleado.fechapostulacion | date:'dd/MM/yyyy'}}</p>
        </div> -->
        <app-card-empleado 
            [empleado]="empleado"
            [periodo]="periodo"
        ></app-card-empleado>
        <div class="puntuacion-final">
            <h2>PUNTUACION FINAL</h2>
            <div class="score">{{ puntuacionFinal | number:'1.2-2' }}</div>
        </div>
    </div>

    <!-- Sección de Desempeño -->
    <div class="seccion-desempeno">
        <h2>Desempeño</h2>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Perspectiva</th>
                        <th>Objetivo</th>
                        <th>Tipo</th>
                        <th>Peso</th>
                        <th>Meta</th>
                        <th>Auto Evaluación</th>
                        <th>Evaluación Supervisor</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of desempeno">
                        <td>{{item.perspectiva}}</td>
                        <td>{{item.objetivo}}</td>
                        <td>{{item.tipo}}</td>
                        <td>{{item.peso}}%</td>
                        <td>{{item.meta}}</td>
                        <td>{{item.autoEvaluacion}}</td>
                        <td>{{item.evaluacionSupervisor}}</td>
                        <td>{{item.resultado | number:'1.2-2'}}%</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="7" class="text-end"><strong>Promedio Desempeño:</strong></td>
                        <td>{{promedioDesempeno | number:'1.2-2'}}%</td>
                    </tr>
                    <tr>
                        <td colspan="7" class="text-end"><strong>Desempeño Final ({{porcentajeDesempeno}}%):</strong></td>
                        <td>{{desempenoFinal | number:'1.2-2'}}%</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <!-- Sección de Competencias -->
    <div class="seccion-competencias">
        <h2>Competencias</h2>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Competencia</th>
                        <th>Descripción</th>
                        <th>Auto Evaluación</th>
                        <th>Evaluación Supervisor</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let comp of competencias">
                        <td>{{comp.nombre}}</td>
                        <td>{{comp.descripcion}}</td>
                        <td>{{comp.autoEvaluacion}}</td>
                        <td>{{comp.evaluacionSupervisor}}</td>
                        <td>{{comp.resultado | number:'1.2-2'}}%</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="4" class="text-end"><strong>Promedio Competencias:</strong></td>
                        <td>{{promedioCompetencias | number:'1.2-2'}}%</td>
                    </tr>
                    <tr>
                        <td colspan="4" class="text-end"><strong>Competencias Final ({{porcentajeCompetencias}}%):</strong></td>
                        <td>{{competenciasFinal | number:'1.2-2'}}%</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <!-- Resultado Final -->
    <div class="resultado-final">
        <h2>Resultado Final de la Evaluación</h2>
        <div class="calculo-final">
            <p>Desempeño Final ({{porcentajeDesempeno}}%): {{desempenoFinal | number:'1.2-2'}}%</p>
            <p>Competencias Final ({{porcentajeCompetencias}}%): {{competenciasFinal | number:'1.2-2'}}%</p>
            <p class="total">Total: {{puntuacionFinal | number:'1.2-2'}}%</p>
        </div>
    </div>

    <!-- Sección de Firmas -->
    <div class="seccion-firmas">
        <div class="firma">
            <div class="linea-firma"></div>
            <p>Firma del Empleado</p>
            <p>Fecha: _______________</p>
        </div>
        <div class="firma">
            <div class="linea-firma"></div>
            <p>Firma del Supervisor</p>
            <p>Fecha: _______________</p>
        </div>
    </div>
</div>
